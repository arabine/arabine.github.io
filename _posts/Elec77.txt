(((Magazine: PC Team 77)))
(((Rubrique : Team Pratik)))
(((Sous Rubrique : électronique)))

(((titre))) TeamBot (5) – Carte pour moteurs

(((chapo)))
Ce mois-ci, nous allons finir la partie motrice de notre robot en fabriquant une carte de puissance pour contrôler des moteurs à courants continus. Grâce à la commande mise au point le mois dernier, TeamBot va enfin pouvoir rouler !

(((texte)))
Le mois dernier, nous nous sommes intéressés à la génération d'une commande pour moteurs. Nous possédons dorénavant un double signal MLI variable, ainsi que deux signaux de sens. Notre carte de puissance recevra ces signaux et se chargera de les transformer pour commander les moteurs. Nous verrons que l'électronique est relativement simple bien que le principe ne soit pas forcément évident de prime abord. De plus, notre carte jouera un deuxième rôle : celui d'alimentation de toute l'électronique du robot.

(((inter))) Le pont en H
Avant de s'attaquer à la réalisation, un peu de théorie s'impose. Le pont en H est un grand classique dans la commande de moteurs à courants continus. En cherchant un peu sur Internet, il est possible de trouver des dizaines de schémas différents sur le sujet. Dans chaque cas, la théorie est identique mais l'application pratique peut différer grandement. Nous vous présentons donc une solution possible mais il en existe bien d'autres, plus simples et (beaucoup) plus sophistiquées. Il faut tout d'abord distinguer deux parties dans le pont en H. D'une part la partie constituée de quatre transistors et d'autre part le circuit de commande de ces transistors. Le pont en H proprement dit tient son nom de la disposition des quatre transistors en forme de H dans un schéma, comme nous pouvons le voir sur la figure 1. Les transistors utilisés sont de type MOS-FET bien que l'on trouve quelques versions en transistors bipolaires. Les transistors MOS-FET sont les plus utilisés car ils possèdent de nombreux avantages : ils sont capables de commuter de forts courants à de hautes fréquences, ils ont de faibles pertes de tension et peuvent être commandés par des tensions allant de 3V à 18V. Il existe deux types de transistors MOS-FET, les transistors dits "canal P" et les "canal N", à l'instar des bipolaires NPN et PNP. Sur ce même schéma, nous pouvons voir également des diodes branchées entre le drain et la source de chaque transistor. Celles-ci sont nécessaires lors d'une phase du moteur appelée "roue libre". Lors de cette phase, aucun transistor n'est passant et le moteur doit obligatoirement évacuer du courant, ce que nos diodes feront à la perfection. Il est préférable de choisir des diodes rapides de type Schottky, capables de supporter le courant nominal du moteur. Le principe du pont en H se base sur les caractéristiques simples des moteurs à courant continu. Pour changer le sens de rotation d'un tel moteur, il suffit de changer le sens de l'alimentation à ses bornes. La vitesse quant à elle sera proportionnelle à la tension moyenne entre ses bornes. Enfin, le couple du moteur sera lui aussi proportionnel mais cette fois au courant le traversant. Il s'agit donc d'agir sur chacun de ces paramètres pour régler le moteur selon l'application. Nous, seule la tension moyenne nous intéressera. Pour le courant, nous prendrons soin de dimensionner les composants afin qu'ils acceptent le courant maximal du moteur (600mA par moteur par exemple). Bien sûr, la prise en compte du courant se fera non seulement sur les composants de commutation mais également sur l'alimentation des moteurs, assurée par des régulateurs correctement choisis. La figure 2 nous montre une phase de fonctionnement du moteur. Les transistors T1 et T4 sont bloqués, tandis que les transistors T2 et T3 sont passants. La tension ainsi appliquée aux bornes du moteur sera inversée et donc notre moteur tournera dans le sens inverse. Le phénomène inverse se produit lorsque T1 et T4 sont passants et que T2 et T3 sont bloqués. Maintenant, admettons qu'on applique le signal PWM, généré grâce à l'application du mois dernier, aux grilles des transistors : ceux-ci "hacheront" la tension appliquée aux bornes du moteur de façon à modifier la valeur moyenne de la tension. Vous avez compris, la vitesse de rotation sera alors modifiée sur commande. Ce type de pont peut être fabriqué de A à Z comme nous l'avons fait, ou bien acheté "tout fait" dans un boîtier, comme le fameux L293E, un double pont en H très utilisé. Si vous optez pour une solution clef en main, pensez à bien protéger votre circuit à l'aide de diodes rapides de bonne qualité afin d'éviter de griller un composant assez onéreux.

(((inter))) Et le reste ?
Bien sûr, nous ne pouvons pas brancher directement notre signal PWM sur les transistors. Il faut placer entre les deux quelques circuits logiques d'interfaçage pour empêcher que tous les transistors soient commandés en même temps par exemple, ce qui provoquerait un bien beau court-circuit. Là encore, des circuits spécialisés plus ou moins complexes existent mais malheureusement un peu cher. Une bonne solution consiste à créer son propre circuit de commande, en s'aidant d'un logiciel de simulation par exemple. Lors de la conception de votre schéma, pensez à découpler tous vos circuits logiques par des condensateurs de 100nF, à placer au plus près de vos composants. Au plus près du pont en H, mettez-en un autre en plus d'un condensateur de forte capacité, 470uF ou plus, de façon à créer une petite réserve d'énergie. Dans tous les cas, il ne faut surtout pas alimenter les moteurs avec le 5V alimentant le reste de l'électronique car cela pourrait amener du bruit électrique et perturber les signaux. Pour finir, parlons un peu de la partie dédiée à l'alimentation de toute l'électronique du robot. Ici, nous allons faire au plus simple. La tension de la batterie (12V) est ramenée à 5V grâce à un classique régulateur 7805. En boîtier TO-220, un tel composant peut débiter un courant d'un ampère maximum, ce qui s'avère largement suffisant pour toute l'électronique. L'alimentation des moteurs peut faire appel à un composant similaire, un 7806 par exemple, mais cela dépend de l'alimentation nominale du moteur utilisé. Une astuce consiste à placer deux régulateurs en parallèle pour pouvoir débiter le double de courant.

(((inter))) Conception et tests
Notre carte ne contient que peu de composants mais malheureusement un grand nombre de connecteurs. En effet, notre carte joue également le rôle d'alimentation générale ce qui la rend encore plus encombrante. Mais cette stratégie est la meilleure car il faut diminuer le plus possible les connexions entre cartes et, partant, le nombre de cartes. Au niveau du choix des composants, tout reste assez classique et vous ne devriez avoir aucun mal à trouver les références chez votre revendeur favori. En revanche, veillez à choisir de bons connecteurs facilement déconnectables pour plus de confort. La référence en la matière est le fabriquant Phoenix qui propose des connecteurs débrochables de qualité très professionnelle mais hélas assez onéreux. Quoi qu'il en soit, il faut éviter dans la mesure du possible les connecteurs qui nécessitent de visser les câbles. Le CD-Pro contient quelques illustrations qui vous guideront lors de vos achats. En ce qui concerne le routage proprement dit, quelques petites règles de base s'imposent. Placer les transistors MOS sur le bord de la carte de façon à pouvoir placer des ailettes de refroidissement (indispensables !) sans gêner le reste des composants. Eventuellement, il peut être pratique de placer un support entre la carte et les MOS-FET ce qui rendra la maintenance plus aisée. Ne pas oublier de placer quelques trous pour la fixation de la carte. Enfin, placer un maximum de texte sur la carte pour indiquer la signification des différents connecteurs ainsi que leur polarité. Vous verrez que ces quelques conseils vous rendront la vie beaucoup plus facile lorsque vous travaillerez sur la carte. Le soudage ne posera aucun problème particulier. Au moment du test, ne branchez pas tout en même temps. Avant de placer les composants logiques sur leur support, vérifier la présence des alimentations et des signaux de commande. Là encore, l'usage d'un oscilloscope est fortement recommandé, sinon obligatoire !

(((inter))) Le mois prochain
Voilà notre partie motrice terminée ; cependant, nous avons passé sous silence le moyen de mesurer la distance parcourue par le robot, à l'aide d'un capteur incrémental par exemple. Mais laissons cela pour le moment, car le but de TeamBot sera de suivre des lignes tracées sur le sol. Le prochain TeamPratik sera donc entièrement consacré à ce sujet. N'oubliez pas de jeter un coup d'œil sur le CD-Pro qui contient toutes les ressources pour créer votre propre carte moteurs, plus quelques documentations toujours utiles.

(((signature)))
Anthony Rabine - arabine@programmationworld.com

(((images)))
elec1.tif : Les composants constituants un pont en H classique.
elec2.tif : T2 et T2 étant passants, le moteur tourne en sens inverse.
elec3.tif : Un moto-réducteur parfaitement adapté à la robotique.
elec4.tif : Le BUZ11, un transistor canal N idéal pour notre application.
