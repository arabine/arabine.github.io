(((Magazine: PC Team 80)))
(((Rubrique : Passion)))
(((Sous Rubrique : électronique)))

(((titre))) Conception d'un robot participant à la coupe e=m6

(((chapo)))	
La conception d’un robot en vue de la coupe e=m6 est une longue aventure, à la fois humaine et technique. Nous allons nous pencher sur la l’élaboration du robot de l’équipe EPITEK.

(((texte)))
Notre robot ne pourra être capable d’être homologué et de remporter le plus de match possible sans l’élaboration d’une véritable stratégie. Cette année à été d’autant plus particulière que les plans des poches, éléments clés de la surface de jeu, n’ont été publiés qu’en décembre et ont été modifiés fin mars. Cela a nécessité une grande flexibilité dans l’organisation, imposant de modifier pour certaines équipes des parties entières de leurs robots. Rappelons que l’objectif de cette année consiste à mettre des balles de couleurs, rouge ou noire, dans des paniers situés aux quatre coins de la table. Ces paniers ont une capacité théorique de 5 balles et il est possible de récupérer celle se situant au niveau de l’aire de jeu. Le CD-Pro contient les spécifications complètes des règles du jeu.

(((inter))) La stratégie de l’équipe EPITEK
Il existe plusieurs stratégies pour accomplir notre mission : la balistique, le portage individuel des balles et le stockage. L’équipe Epitek a éliminé la balistique qui nécessite une énorme précision mécanique, ayant pour conséquence un tir assez aléatoire. La stratégie retenue consiste en un stockage des balles sur le haut du robot grâce à un système de tourniquet permettant d'appliquer un tri aux balles stockées. La récupération des balles sous les paniers n’a pas été oubliée, laissant ainsi au robot la faculté de vider le panier de l’adversaire pour aller remplir le sien. Le repérage des balles s’effectue grâce à une webcam dont les images sont traitées à l’aide d’une carte PC. L’analyse de l’image donne la position des balles dans un repère relatif au robot ; celle ci est facilitée grâce aux nombreuses lignes blanches et au fort contraste du vert de la table. N’oublions pas que l’équipe Epitek est constituée de membres de l’Epita, et possède ainsi d’un énorme soutient du point de vue de la programmation. Une petite intelligence artificielle a été développée et effectue un historique de la position du robot et des balles. Dès lors, le robot connaît son environnement et sait parfaitement se diriger sur l’aire de jeu, économisant ainsi un temps précieux lors de la partie.

(((inter))) Le déplacement
L'issue d'un match se décide souvent lors des premières secondes ; une attention toute particulière a été portée à la vitesse de déplacement de notre robot. Le choix des moteurs se révèle crucial car ils apportent une bonne partie de la réussite. Après une rude sélection, les vainqueurs ont été les motoréducteurs RE025CLL/WGG012 de la société MDP, société spécialisée dans les micromoteurs et dont les produits se révèlent excellents pour la robotique. Ces moteurs ont la grande qualité d’être compacts : 2.5 cm de diamètre et 9 cm de haut avec réducteur et codeurs. De plus, ils consomment peu tout en ayant un couple énorme ; en définitive, des moteurs idéaux pour notre application. Les robots utilisent le plus souvent des moteurs à courant continu ou des moteurs pas à pas. Afin de pouvoir se déplacer précisément sur la surface de la table, notre robot doit obligatoirement être équipé de moteurs asservis, c’est-à-dire que leur vitesse est ajustée en temps réel. Par exemple, si un moteur tourne trop vite, on réduit le rapport cyclique du signal de commande des moteurs. Ce signal est appelé PWM et a fait l'objet d'un article complet dans le PC Team N° 76. Un asservissement se présente souvent sous la forme d'une carte électronique dédiée. Celle-ci intègre de nombreux composants réalisant une véritable formule mathématique. Cette formule contient ce que l'on nomme des correcteurs qui vont modifier le signal de commande des moteurs. Les trois types de correcteurs sont Proportionnel, Intégral et Dérivé, souvent appelés PID ; l'association des trois correcteurs est ce qui est de plus performant. Pour ajuster le plus facilement tout cela, le team Epitek utilise une carte à base de LM629 au format PC104, une sorte de bus ISA industriel. Ce composant est spécialisé dans l’asservissement des moteurs. Il se révèle très pratique grâce a son PID numérique et sa facilité d’utilisation et est relativement courant dans le monde de la robotique. La documentation constructeur de ce composant est évidemment présent sur le CD-Pro tout comme celui de nombreux composants utilisés par le robot d'Epitek. Le signal émis par le LM629 n’est rien d’autre qu’un signal PWM qui sera d’abord amplifié par une carte de puissance composée de ponts en H, similaire à celle vue dans le PC Team de mars, puis envoyé aux moteurs.

(((inter))) Capteurs et actionneurs
Maintenant que le robot est capable de bouger, il faut quand même lui donner la possibilité d´exécuter sa mission qui est ne l’oublions pas de stocker des balles puis de les porter dans les paniers adéquats. Pour cela notre robot fourmille de petits capteurs et d’actionneurs. Les capteurs sont principalement optiques, car il ne faut pas se tromper de couleur de balle, mais également de présence. Les actionneurs sont des moteurs pas à pas ou des servomoteurs. Afin de simplifier l’architecture de robot, capteurs et actionneurs ont été regroupés par modules spécialisés et connectés à des cartes à base de PICs. Cette solution technique permet de limiter la quantité d’informations émises ou reçues par la carte PC, qui outre cela ne disposerait pas assez de connecteurs. Chaque carte à base de PIC possède plusieurs ports entrées/sorties ainsi que deux ports de puissance (15 W par canal), laissant la possibilité de contrôler de petits moteurs.

(((inter))) Construction et mise au point
Maintenant que nous avons vu les principaux composants du robot, il ne nous reste plus qu’à assembler le tout. Ponceuse, perceuse, scie sauteuse, riveteuse, tel est le lot du constructeur de robot qui doit veiller à ce que tous les éléments du robot rentrent. La tache s’avère assez laborieuse car il ne faut pas non plus oublier les batteries qui ont tendance à occuper beaucoup de place. La mécanique n'est pas à négliger, c'est d'ailleurs un domaine privilégié de la robotique. Pour plus de précision et pour avoir une vue d'ensemble du robot, celui-ci est modélisé en trois dimensions avec des logiciels tels que Catia. Même si la précision n'est pas de mise, cette étape est importante car elle permet d'identifier les erreurs de conception. Une carte DC/DC permet de fournir une tension de +5V nécessaire à l’alimentation de la carte PC ainsi que de tous les divers modules logiques. L’utilisation de régulateur tels des 7805 est à bannir ici car ces composants ont des rendements assez faibles. La carte utilisée par Epitek possède un rendement de l’ordre de 80% limitant ainsi les pertes par effet joule. Après la conception matérielle du robot, viennent les traditionnelles phases de tests. Durant cette étape, il convient de vérifier le choix des batteries, des composants et enfin de la stratégie. Le premier but à atteindre étant la qualification du robot.

(((inter)))Le mois prochain
Voilà notre robot fin prêt à être aligné sur la grille de départ de la coupe de France de Robotique. Le mois prochain nous verrons comment s’est déroulé cette coupe et nous pourrons découvrir quel a été le sort de l’équipe Epitek. Cet article mettra fin à la petite série consacrée au concours e=m6.

(((signature)))
Anthony Rabine - arabine@programmationworld.com
Mathieu Terrisse - mathieu.terrisse@epita.fr

(((images)))
elec1.tif : L’architecture électronique du robot Epitek.
elec2.tif : De bons moteurs sont la clef de la réussite.
elec3.tif : Une maquette en bois se révèle toujours pratique.
elec4.tif : Principe de l'asservissement PID. 
elec5.tif : Un panier bien rempli.
